NOTE: All paths detailed in this are relative to the root of the artifacts folder.

DORIS Government Publications Portal - Server Migration Instructions

UPDATED: 03/10/2015 11:00 AM

Servers:
	Application Server - XXX.XXX.XXX.XXX (SERVER_NAME_GOES_HERE)
	Database Server - XXX.XXX.XXX.XXX (SERVER_NAME_GOES_HERE)
	
###############################################################################
###############################################################################

Database Server Setup Instructions
Extract the tar file to /db/mysql_data (Replace the existing folder and its contents)

cd into /db/mysql_data/artifacts/scripts/db/ and run the following command: sudo source db_migration_03102015.sh

Requirements:
	This deployment archive should be unzipped in /var/lib/mysql on the database server.
	PLEASE NOTE: The script must be run as a root user on the system

This script performs the following operations:
	- Replaces the database with the final pre-launch data
	- Re-Runs the elasticssearch index

Application Server Setup Instructions
Extract the tar file to /var/www/artifacts/ (Replace the existing folder and its contents)

cd into /var/www/artifacts/scripts/app and run the following command: sudo source app_migration.sh

Requirements:
	This deployment archive should be unzipped in /var/www/artifacts on the application server
	PLEASE NOTE: The script must be run as a root user on the system

This script performs the following operations:
	- Replaces application files with updated application
