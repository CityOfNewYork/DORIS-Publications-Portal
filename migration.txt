NOTE: All paths detailed in this are relative to the root of the artifacts folder.

DORIS Government Publications Portal - Server Migration Instructions

UPDATED: 03/03/2015 9:45 PM

Servers:
	Application Server - XXX.XXX.XXX.XXX (SERVER_NAME_GOES_HERE)
	Database Server - XXX.XXX.XXX.XXX (SERVER_NAME_GOES_HERE)
	
###############################################################################
###############################################################################

Database Server Setup Instructions
Extract the tar file to /var/lib/mysql/ (Replace the existing folder and its contents)

cd into /var/lib/mysql/artifacts/scripts/db/ and run the following command: sudo source db_migration_03032015.sh

Requirements:
	This deployment archive should be unzipped in /var/lib/mysql on the application server.
	PLEASE NOTE: The script must be run as a root user on the system

This script performs the following operations:
	- Configures supervisord
	- Configures elasticsearch for supervisor
	- Moves elasticsearch index location and data
	- Moves MySQL Data Directory
	- Reconfigures some parts of nginx and elasticsearch